\chapter{Background}
\label{chapter1}

This project aims to improve the efficiency of real-time rendering of 3D fractals. This chapter will focus on background theory for fractals, signed distance functions and sphere tracing.

\section{2D Fractals - The Mandelbrot Set}

\begin{figure}[h]
	\centering
	\includegraphics[width=0.75\linewidth, frame]{Images/Mandelbrot-2D-Full.png}
	\caption{The Mandelbrot set. The white points in the centre are inside the set.}
	\label{figure:mandelbrot-2d-full}
\end{figure}

The Mandelbrot set is the set of two-dimensional points that satisfy a certain constraint on the following complex quadratic equation:

\begin{equation} \label{equation:mandelbrot-2d}
	Z = {Z^2} + C
\end{equation}

where Z and C are complex numbers. The constraint on the points is that their orbit must be bounded. The value of Z is initialized to 0 and equation \ref{equation:mandelbrot-2d} is iterated over, each new value of Z being placed back in to the equation in the next iteration. If the length of the point Z does not exceed a threshold, then the point (represented by C) is in the Mandelbrot set \cite{devaney1999mandelbrot}.

Figure \ref{figure:mandelbrot-2d-full} shows a generated Mandelbrot set. The real part of the point C is represented by the x-axis, and the imaginary part by the y-axis. Equation \ref{equation:mandelbrot-2d} is iterated over a maximum of five hundred times, and the threshold value is two. The pixels are coloured according to how many iterations are achieved before the length of Z exceeds the threshold.

\begin{figure} [h]
	\centering
	\includegraphics[width=\linewidth, frame]{Images/Mandelbrot-2D-Iterations.png}
	\caption{Visualization of the first one hundred iterations of equation \ref{equation:mandelbrot-2d} on the initial points [0.3, 0.05] (left) and [0.5, 0.04] (right). The initial points are shown in blue.}
	\label{figure:mandelbrot-2d-iterations}
\end{figure}

\begin{figure} [h]
	\centering
	\includegraphics[width=\linewidth, frame]{Images/Mandelbrot-2D-Zoom.png}
	\caption{Two different views of the Mandelbrot set, zoomed in.}
	\label{figure:mandelbrot-2d-zoom}
\end{figure}

Figure \ref{figure:mandelbrot-2d-iterations} illustrates the first one hundred iterations on two different points. For the first point, the iterations converge in a spiral shape and the length of Z never exceeds the threshold of two, therefore the point is in the Mandelbrot set and is coloured white. For the second point, the iterations diverge and exceed the threshold of two within a few iterations, so this point is not in the Mandelbrot set and is coloured dark.

Figure \ref{figure:mandelbrot-2d-zoom} shows two zoomed-in views at the edge of the original shape. New patterns can be seen, as well as repeated ones, and even new instances of the original shape. This is because the Mandelbrot set has infinite detail, so if one decreases the range of the axes, new patterns will emerge \cite{ashlock2006evolutionary}.

\newpage

\section{3D Fractals - The Mandelbulb}

Since the Mandelbrot set is in two dimensions, and since complex numbers have only two components (real and imaginary), obtaining a true three-dimensional Mandelbrot set is a challenging task.

Papers:
\begin{itemize}
	\item The mandelbulb: first ‘true’3D image of famous fractal \cite{aron2009mandelbulb}.
\end{itemize}

\cite{aron2009mandelbulb}

- A few ways to represent mandelbrot in 3D.

- 1. Slices of 2D mandelbrot.

- 2. Quaternion mandelbrot with fourth dimension = 0.

- 3. Informal extension to 3D with polar coordinates.

- Explain each. I will be going with option 3.

\section{Signed Distance Functions and Sphere Tracing}

Papers:
\begin{itemize}
	\item Ray Tracing Gems II \cite{marrs2021ray}.
\end{itemize}

- Signed distance function is an estimate of how close the point is to the surface of the fractal.

-  If it's negative, the point is inside the surface.

- Demonstrate derivation from Mandelbulb equation.

- Distance estimators can be used for raymarching - known as sphere tracing.

- Diagram of sphere tracing.

\section{Signed Distance Fields}

Papers:
\begin{itemize}
	\item Signed distance fields: A natural representation for both mapping and planning \cite{oleynikova2016signed}.
\end{itemize}

- Stored values from signed distance function, stored as 2D texture or 3D grid.

- Saves having to recompute SDF all the time.

- Fractal scenes with high view distance could benefit from some pre-calculated values to give them a head start - show room of pillars and remark on frame rate (no SDF).

- Remark on memory costs.

- Briefly talk about storage methods - octrees.